<!-- {{properties|json}} -->

<div
  class="property-card-container"
  *ngIf="
    user?.authorities[0].authority !== 'Admin' &&
    user?.authorities[0].authority !== 'SuperAdmin'
  "
>
  <ng-container *ngFor="let p of properties">
    <mat-card class="property-card" *ngIf="p.active ===true">
      <img
        mat-card-image
        src="{{ p.pPhoto }}"
        alt="https://images.unsplash.com/photo-1570129477492-45c003edd2be?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8aG91c2V8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60"
      />
     
      <mat-card-content class="card-content">
        <h3>{{ p.pName }}</h3>
        <p class="card-content-area">{{ p.aArea }}</p>
        <p class="card-content-price">{{ p.pPrice | currency : "INR" }}</p>

        <div class="card-content-keypoints">
          <p>{{ p.pArea }} sqft</p>
          <p>{{ p.aCity }}</p>
        </div>
        <mat-divider></mat-divider>
        <div class="card-content-buttons">
          <button mat-button [routerLink]="'/property/' + p.pId">
            View Property
          </button>


          <button mat-button disabled class="like-section" color="accent">
             <p>{{ formatUpdatedAt(p.updatedAt) }}</p>
          </button>
        </div>
      </mat-card-content>
    </mat-card>
  </ng-container>
</div>
